-- テストデータ投入用SQL（修正版）
-- 注意: 実行前にアプリにログインして認証済み状態にしてください

-- 現在のユーザーIDを取得してボードを作成
INSERT INTO public.boards (id, title, description, user_id, created_at, updated_at) 
VALUES 
  ('550e8400-e29b-41d4-a716-446655440001', 'プロジェクトA', 'メインプロジェクトのタスク管理', auth.uid(), NOW(), NOW()),
  ('550e8400-e29b-41d4-a716-446655440002', 'プロジェクトB', '夏季プロジェクト', auth.uid(), NOW(), NOW()),
  ('550e8400-e29b-41d4-a716-446655440003', 'プロジェクトC', '短期タスク集', auth.uid(), NOW(), NOW());

-- リストを作成
INSERT INTO public.lists (id, title, board_id, position, created_at, updated_at)
VALUES
  ('660e8400-e29b-41d4-a716-446655440001', 'TODO', '550e8400-e29b-41d4-a716-446655440001', 1, NOW(), NOW()),
  ('660e8400-e29b-41d4-a716-446655440002', '進行中', '550e8400-e29b-41d4-a716-446655440001', 2, NOW(), NOW()),
  ('660e8400-e29b-41d4-a716-446655440003', '完了待ち', '550e8400-e29b-41d4-a716-446655440001', 3, NOW(), NOW()),
  ('660e8400-e29b-41d4-a716-446655440004', 'TODO', '550e8400-e29b-41d4-a716-446655440002', 1, NOW(), NOW()),
  ('660e8400-e29b-41d4-a716-446655440005', '作業中', '550e8400-e29b-41d4-a716-446655440002', 2, NOW(), NOW()),
  ('660e8400-e29b-41d4-a716-446655440006', 'レビュー', '550e8400-e29b-41d4-a716-446655440003', 1, NOW(), NOW());

-- 8月の納期を持つタスクカードを作成
INSERT INTO public.cards (id, title, description, list_id, position, due_date, due_time, created_at, updated_at)
VALUES
  ('770e8400-e29b-41d4-a716-446655440001', 'プレゼン資料の作成', 'クライアント向けの提案資料を準備する', '660e8400-e29b-41d4-a716-446655440001', 1, '2025-08-05'::date, '10:00'::time, NOW(), NOW()),
  ('770e8400-e29b-41d4-a716-446655440002', 'ミーティングの準備', 'チームミーティングのアジェンダを作成', '660e8400-e29b-41d4-a716-446655440002', 1, '2025-08-08'::date, '14:30'::time, NOW(), NOW()),
  ('770e8400-e29b-41d4-a716-446655440003', 'レポート提出', '月次レポートの作成と提出', '660e8400-e29b-41d4-a716-446655440003', 1, '2025-08-12'::date, '17:00'::time, NOW(), NOW()),
  ('770e8400-e29b-41d4-a716-446655440004', 'コードレビュー', '新機能のコードレビューを実施', '660e8400-e29b-41d4-a716-446655440006', 1, '2025-08-15'::date, '11:00'::time, NOW(), NOW()),
  ('770e8400-e29b-41d4-a716-446655440005', 'データベース設計', '新システムのDB設計書作成', '660e8400-e29b-41d4-a716-446655440004', 1, '2025-08-18'::date, '16:00'::time, NOW(), NOW()),
  ('770e8400-e29b-41d4-a716-446655440006', 'テスト実行', 'システムの総合テストを実行', '660e8400-e29b-41d4-a716-446655440005', 1, '2025-08-20'::date, '09:30'::time, NOW(), NOW()),
  ('770e8400-e29b-41d4-a716-446655440007', '仕様書更新', 'システム仕様書の最新版への更新', '660e8400-e29b-41d4-a716-446655440001', 2, '2025-08-22'::date, '13:00'::time, NOW(), NOW()),
  ('770e8400-e29b-41d4-a716-446655440008', 'UI改善作業', 'ユーザーインターフェースの改善実装', '660e8400-e29b-41d4-a716-446655440002', 2, '2025-08-25'::date, '15:30'::time, NOW(), NOW()),
  ('770e8400-e29b-41d4-a716-446655440009', 'パフォーマンス最適化', 'システムの処理速度改善', '660e8400-e29b-41d4-a716-446655440005', 2, '2025-08-28'::date, '10:15'::time, NOW(), NOW()),
  ('770e8400-e29b-41d4-a716-446655440010', 'セキュリティ監査', 'システムのセキュリティ点検と修正', '660e8400-e29b-41d4-a716-446655440006', 2, '2025-08-30'::date, '14:00'::time, NOW(), NOW());